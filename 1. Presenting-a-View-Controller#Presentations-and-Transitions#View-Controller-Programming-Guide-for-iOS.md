# ç¿»è¯‘@View Controller Programming Guide for iOSï¼ˆiOSè§†å›¾æ§åˆ¶å™¨ç¼–ç¨‹æŒ‡å—ï¼‰

- åŸæ–‡ï¼š[View Controller Programming Guide for iOS](https://developer.apple.com/library/content/featuredarticles/ViewControllerPGforiPhoneOS/index.html#//apple_ref/doc/uid/TP40007457-CH2-SW1)
- ä½œè€…ï¼š[Apple](https://developer.apple.com/library/content/navigation/)
- æ›´æ–°ï¼š[Yannmm@Github.com](https://github.com/Yannmm/Auto-Layout-Guide-Chinese-Translation)

---

## Presentations and Transitionsï¼ˆæ˜¾ç¤ºå’Œè½¬åœºï¼‰

### Presenting a View Controllerï¼ˆç›´æ¥æ˜¾ç¤ºï¼‰

åœ¨å±å¹•ä¸Šæ˜¾ç¤ºè§†å›¾æ§åˆ¶å™¨æœ‰ä¸¤ç§æ–¹å¼ï¼šæ”¾å…¥å®¹å™¨æˆ–ç›´æ¥æ˜¾ç¤ºã€‚å¯¹äºAppé¡µé¢ç»“æ„æ¥è¯´ï¼Œå‰è€…æ˜¯åŸºç¡€ï¼›åè€…èµ·è¾…åŠ©ä½œç”¨ã€‚ç›´æ¥æ˜¾ç¤ºæ—¶ï¼Œæ§åˆ¶å™¨ä½äºæœ€ä¸Šå±‚ã€‚å…¶å…¸å‹çš„åº”ç”¨åœºæ™¯æ˜¯åˆ¶é€ ç„¦ç‚¹ç•Œé¢ï¼ˆModal Interfaceï¼‰ï¼Œä¸è¿‡ä¹Ÿå¯ä»¥å¦ä½œä»–ç”¨ ã€‚ï¼ˆè¯‘è€…ï¼šä¸ç†è§£Modalå«ä¹‰çš„åŒå­¦ï¼Œå¯ä»¥å‚è€ƒwikipediaä¸Šå…³äº[Modal Window](https://en.wikipedia.org/wiki/Modal_window)çš„å®šä¹‰ï¼‰

[UIViewController](https://developer.apple.com/documentation/uikit/uiviewcontroller)åŠå…¶å­ç±»å¤©ç”Ÿæ”¯æŒç›´æ¥æ˜¾ç¤ºã€‚æš‚ä¸è€ƒè™‘UIKitçš„æ¶ˆæ¯è½¬å‘æœºåˆ¶ï¼Œä»»æ„æ§åˆ¶å™¨éƒ½å¯ä»¥ç›´æ¥æ˜¾ç¤ºå…¶ä»–æ§åˆ¶å™¨ã€‚æ­¤æ—¶ï¼Œå®ƒä»¬ä¹‹é—´æ˜¯æ˜¾ç¤ºï¼ˆpresentingï¼‰ä¸è¢«æ˜¾ç¤ºï¼ˆpresentedï¼‰çš„å…³ç³»ï¼Œæ˜¯æ•´ä¸ªæ§åˆ¶å™¨ä½“ç³»çš„ä¸€éƒ¨åˆ†ã€‚ä¸€æ—¦å½¢æˆï¼Œè¿™ç§å…³ç³»å°†ä¸€ç›´ä¿æŒï¼Œç›´è‡³å–æ¶ˆï¼ˆdismissï¼‰ã€‚

#### The Presentation and Transition Processï¼ˆæ˜¾ç¤ºå’Œè½¬åœºæµç¨‹ï¼‰

æ–°æ§åˆ¶å™¨ä¼´éšç€åŠ¨ç”»å‡ºç°åœ¨å±å¹•ä¸Šçš„è¿‡ç¨‹ï¼Œç§°ä¸ºè½¬åœºï¼ˆæ•ˆæœï¼‰ï¼ˆTransitionï¼‰ï¼›åœ¨å±å¹•ä¸Šçš„æ˜¾ç¤ºæ–¹å¼ï¼Œç§°ä¸ºå‘ˆç°å½¢å¼ï¼ˆPresentationï¼‰ã€‚UIKitåœ¨æä¾›è‹¥å¹²é¢„è®¾é€‰é¡¹çš„åŒæ—¶ï¼Œä¹Ÿå…è®¸æˆ‘ä»¬è‡ªå®šä¹‰ã€‚ä½¿ç”¨å‰è€…ï¼Œç³»ç»Ÿä¼šæ›¿æˆ‘ä»¬æå®šä¸€åˆ‡ï¼›ä½¿ç”¨åè€…ï¼Œä¹Ÿæ— éœ€èŠ±è´¹å¤ªå¤šç²¾åŠ›ï¼Œä¸”å¯ä»¥å¤ç”¨ã€‚

ç›´æ¥æ˜¾ç¤ºå¯ä»¥é€šè¿‡Storyboard Segueæˆ–ä»£ç å‘èµ·ã€‚ä½¿ç”¨Storyboardè®¾è®¡é¡µé¢ç»“æ„æ—¶ï¼Œå‰è€…ç®€å•æ˜“ç”¨ã€‚è€Œå¯¹äºåŠ¨æ€ç•Œé¢ï¼Œäº¦æˆ–æ˜¯æ²¡æœ‰æ§ä»¶å¯ä¾›è§¦å‘Segueæ—¶ï¼Œåˆ™éœ€ä½¿ç”¨[UIViewController](https://developer.apple.com/documentation/uikit/uiviewcontroller)ç›¸å…³æ–¹æ³•ã€‚

##### Presentation Stylesï¼ˆå‘ˆç°å½¢å¼ï¼‰

å‘ˆç°å½¢å¼å†³å®šæ˜¾ç¤ºæ ·å¼ã€‚æ ¹æ®ç”¨é€”ï¼ŒUIKitå®šä¹‰äº†è®¸å¤šä¸åŒçš„å‘ˆç°å½¢å¼ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ã€‚é€‰æ‹©ä¸éœ€æ±‚ç›¸åŒ¹é…çš„å½¢å¼ï¼Œä¸ºæ§åˆ¶å™¨å±æ€§[modalPresentationStyle](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621355-modalpresentationstyle)èµ‹å€¼ã€‚

###### Full-Screen Presentation Stylesï¼ˆå…¨å±ï¼‰

é¡¾åæ€ä¹‰ï¼Œå…¨å±å‘ˆç°æ—¶æ§åˆ¶å™¨å®Œæ•´è¦†ç›–å±å¹•ï¼Œæ— æ³•ä¸ä¸‹å±‚è§†å›¾äº¤äº’ã€‚æ­£å¸¸å®½åº¦ä¸‹ï¼ˆhorizontally regularï¼‰ï¼Œåªæœ‰`UIModalPresentationFullScreen`å®Œæ•´è¦†ç›–å±å¹•ã€‚å…¶ä½™å½¢å¼ä½¿ç”¨é®ç½©è¦†ç›–ä¸‹å±‚å†…å®¹ã€‚ç´§å‡‘å®½åº¦ä¸‹ï¼ˆhorizontally compactï¼‰ï¼Œå…¶ä½™å½¢å¼çš„å®é™…æ ·å¼ä¸`UIModalPresentationFullScreen`ä¿æŒä¸€è‡´ã€‚

å›¾8-1æ¼”ç¤ºäº†[UIModalPresentationFullScreen](https://developer.apple.com/documentation/uikit/uimodalpresentationstyle/uimodalpresentationfullscreen)ï¼Œ[UIModalPresentationPageSheet](https://developer.apple.com/documentation/uikit/uimodalpresentationstyle/uimodalpresentationpagesheet)å’Œ[UIModalPresentationFormSheet](https://developer.apple.com/documentation/uikit/uimodalpresentationstyle/1621491-formsheet)åœ¨æ­£å¸¸å®½åº¦ä¸‹çš„æ•ˆæœï¼šç»¿è‰²æ§åˆ¶å™¨ç›´æ¥æ˜¾ç¤ºè“è‰²æ§åˆ¶å™¨ã€‚æ³¨æ„ï¼Œå±å¹•çš„å…¶ä½™éƒ¨åˆ†è¢«é®ç½©è¦†ç›–ã€‚

**å›¾8-1** å…¨å±å‘ˆç°

![å›¾8-1]()

>æ³¨æ„
>
>ä½¿ç”¨`UIModalPresentationFullScreen`æ—¶ï¼Œä¸‹å±‚è§†å›¾å°†åœ¨è½¬åœºç»“æŸåç§»é™¤ã€‚å¦‚éœ€ä¿ç•™ï¼Œåˆ™åº”ä½¿ç”¨[UIModalPresentationOverFullScreen](https://developer.apple.com/documentation/uikit/uimodalpresentationstyle/1621506-overfullscreen)ã€‚è¿™å¯¹äºåŒ…å«é€æ˜åŒºåŸŸçš„æ§åˆ¶å™¨æ¥è¯´å¾ˆå®ç”¨ã€‚

å…¨å±æ„å‘³ç€å‘ˆç°æ–¹ï¼ˆpresentingï¼Œç›¸å¯¹äºpresentedï¼Œå³è¢«å‘ˆç°æ–¹ï¼‰å¿…é¡»å®Œæ•´è¦†ç›–å±å¹•ã€‚å¦åˆ™ï¼Œç³»ç»Ÿå°†ä»æ§åˆ¶å™¨ä½“ç³»ä¸­å¯»æ‰¾ç¬¬ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„æ§åˆ¶å™¨ã€‚å¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™ä½¿ç”¨çª—å£ï¼ˆwindowï¼‰æ ¹æ§åˆ¶å™¨ã€‚

###### The Popover Styleï¼ˆå¼¹çª—ï¼‰

[UIModalPresentationPopover](https://developer.apple.com/documentation/uikit/uimodalpresentationstyle/uimodalpresentationpopover)ä»¥å¼¹çª—çš„å½¢å¼æ˜¾ç¤ºæ§åˆ¶å™¨ï¼Œæ˜¾ç¤ºä¸ç„¦ç‚¹ç›¸å…³çš„ä¿¡æ¯å’Œé€‰é¡¹ã€‚æ­£å¸¸å®½åº¦ä¸‹ï¼Œå¼¹çª—è¦†ç›–éƒ¨åˆ†å±å¹•ï¼Œå¦‚å›¾8-2æ‰€ç¤ºã€‚ç‚¹å‡»å¼¹çª—ä»¥å¤–åŒºåŸŸï¼Œå¼¹çª—è‡ªåŠ¨æ”¶èµ·ï¼›ç´§å‡‘å®½åº¦ä¸‹ï¼Œå®é™…æ ·å¼ä¸[UIModalPresentationOverFullScreen](https://developer.apple.com/documentation/uikit/uimodalpresentationstyle/1621506-overfullscreen)ä¸€è‡´ã€‚

**å›¾8-2** å¼¹çª—å‘ˆç°

![å›¾8-2]()

ç´§å‡‘å®½åº¦ä¸‹å¼¹çª—ä¼šåˆ‡æ¢ä¸ºå…¨å±ï¼Œå¿…é¡»é€‚é…è¿™ç§æƒ…å†µã€‚ä¸ºäº†ä½¿ç”¨æˆ·èƒ½å¤Ÿå–æ¶ˆï¼ˆdismissï¼‰ï¼Œå¯ä»¥é¢å¤–æ·»åŠ æŒ‰é’®ï¼Œä½¿ç”¨å®¹å™¨æ§åˆ¶å™¨ï¼Œæˆ–å…¶ä»–å‘ˆç°å½¢å¼ã€‚

æ›´å¤šå…³äºå¼¹çª—çš„ä½¿ç”¨ï¼Œè¯¦è§[Presenting a View Controller in a Popover](https://developer.apple.com/library/content/featuredarticles/ViewControllerPGforiPhoneOS/PresentingaViewController.html#//apple_ref/doc/uid/TP40007457-CH14-SW13)ã€‚

###### The Current Context Stylesï¼ˆæŒ‡å®šè¦†ç›–ï¼‰ 

[UIModalPresentationCurrentContext](https://developer.apple.com/documentation/uikit/uimodalpresentationstyle/1621493-currentcontext)é€‰æ‹©æ€§çš„è¦†ç›–æŸä¸ªæ§åˆ¶å™¨ã€‚é€šè¿‡è®¾ç½®å±æ€§[definesPresentationContext](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621456-definespresentationcontext)è®¾ç½®ä¸ºYESï¼ŒæŒ‡å®šè¢«è¦†ç›–çš„æ§åˆ¶å™¨ã€‚å›¾8-3æ¼”ç¤ºäº†åˆ†å±æ§åˆ¶å™¨ï¼ˆSplitï¼‰ä¸­ï¼Œä¸€ä¸ªå­æ§åˆ¶å™¨è¢«è¦†ç›–çš„æ•ˆæœã€‚

**å›¾8-3** æŒ‡å®šè¦†ç›–

>æ³¨æ„
>
>ä½¿ç”¨`UIModalPresentationFullScreen`æ—¶ï¼Œä¸‹å±‚è§†å›¾å°†åœ¨è½¬åœºç»“æŸåç§»é™¤ã€‚å¦‚éœ€ä¿ç•™ï¼Œåˆ™åº”ä½¿ç”¨[UIModalPresentationOverFullScreen](https://developer.apple.com/documentation/uikit/uimodalpresentationstyle/1621506-overfullscreen)ã€‚è¿™å¯¹äºåŒ…å«é€æ˜åŒºåŸŸçš„æ§åˆ¶å™¨æ¥è¯´å¾ˆå®ç”¨ã€‚ï¼ˆè¯‘è€…ï¼šè¿™æ®µè¯å’Œä¸Šé¢ä¸€æ®µé‡å¤ï¼ŒåŸæ–‡å°±æ˜¯è¿™æ ·ğŸ˜‚ï¼‰

è¢«è¦†ç›–æ§åˆ¶å™¨è¿˜å¯ä»¥å®šä¹‰è½¬åœºæ•ˆæœã€‚é»˜è®¤ï¼Œè¿™ä¸ªæ•ˆæœä»¥è¢«å‘ˆç°æ–¹å±æ€§[modalTransitionStyle](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621388-modaltransitionstyle)ä¸ºå‡†ã€‚ä½†å¦‚æœè¢«è¦†ç›–æ§åˆ¶å™¨å±æ€§[providesPresentationContextTransitionStyle](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621356-providespresentationcontexttrans)ä¸ºYESï¼Œåˆ™ä»¥å®ƒçš„`modalTransitionStyle`ä¸ºå‡†ã€‚

ç´§å‡‘å®½åº¦ä¸‹ï¼Œå®é™…æ ·å¼ä¸[UIModalPresentationFullScreen](https://developer.apple.com/documentation/uikit/uimodalpresentationstyle/uimodalpresentationfullscreen)ä¸€è‡´ã€‚è¦æ‰“ç ´è¿™ä¸€ä¸ªè§„åˆ™ï¼Œéœ€è¦é€šè¿‡ä»£ç†è¿”å›å…¶ä»–å‘ˆç°å½¢å¼ã€‚

###### Custom Presentation Stylesï¼ˆè‡ªå®šä¹‰ï¼‰ 

[UIModalPresentationCustom](https://developer.apple.com/documentation/uikit/uimodalpresentationstyle/uimodalpresentationcustom)è¡¨ç¤ºè‡ªå®šä¹‰æ˜¾ç¤ºæ ·å¼ã€‚éœ€è¦åˆ›å»º[UIPresentationController](https://developer.apple.com/documentation/uikit/uipresentationcontroller)å­ç±»ï¼Œåˆ¶é€ åŠ¨ç”»ï¼Œè®¾ç½®è§†å›¾ä½ç½®ã€‚æ­¤å¤–ï¼Œè¿˜è¦å¤„ç†æ˜¾ç¤ºç¯å¢ƒï¼ˆTraitsï¼‰çš„å˜åŒ–ã€‚

æ›´å¤šå…³äºè‡ªå®šä¹‰å‘ˆç°æ ·å¼çš„å†…å®¹ï¼Œè¯¦è§[Creating Custom Presentations](https://developer.apple.com/library/content/featuredarticles/ViewControllerPGforiPhoneOS/DefiningCustomPresentations.html#//apple_ref/doc/uid/TP40007457-CH25-SW1)ã€‚


##### Transition Stylesï¼ˆè½¬åœºæ•ˆæœï¼‰ 

è½¬åœºæ•ˆæœå°±æ˜¯åˆ‡æ¢æ§åˆ¶å™¨çš„è¿‡æ¸¡åŠ¨ç”»ã€‚è¦ä½¿ç”¨ç³»ç»ŸåŠ¨ç”»ï¼Œä¸ºè¢«å‘ˆç°æ–¹å±æ€§[modalTransitionStyle](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621388-modaltransitionstyle)èµ‹å€¼å³å¯ï¼ŒåŠ¨ç”»ä¼šè‡ªåŠ¨åˆ›å»ºã€‚å›¾8-4æè¿°äº†ä¸Šæ»‘æ•ˆæœï¼ˆ[UIModalTransitionStyleCoverVertical](https://developer.apple.com/documentation/uikit/uimodaltransitionstyle/1621455-coververtical)ï¼‰çš„æµç¨‹ï¼šæ˜¾ç¤ºæ—¶ï¼Œæ§åˆ¶å™¨Bä»å±å¹•ä¸‹æ–¹å¼€å§‹å‘ä¸Šå‡èµ·ï¼Œç›´è‡³å®Œå…¨è¦†ç›–æ§åˆ¶å™¨Aã€‚å–æ¶ˆæ—¶ï¼Œæ•ˆæœç›¸åï¼šBå‘ä¸‹æ»‘åŠ¨ï¼Œç›´è‡³å®Œæ•´æ˜¾ç¤ºAã€‚

**å›¾8-4** è½¬åœºæ•ˆæœ

![å›¾8-4]()

è‡ªå®šä¹‰è½¬åœºï¼ˆæ•ˆæœï¼‰éœ€è¦åŠ¨ç”»å¯¹è±¡ï¼ˆAnimator Objectï¼‰å’Œè½¬åœºä»£ç†ï¼ˆTransitioning Delegateï¼‰äº’ç›¸é…åˆï¼šå‰è€…åˆ›å»ºåŠ¨ç”»ï¼›åè€…å†³å®šå‰è€…çš„ä½¿ç”¨æ—¶æœºã€‚æ›´å¤šå…³äºè‡ªå®šä¹‰è½¬åœºçš„ä¿¡æ¯ï¼Œè¯¦è§[Customizing the Transition Animations](https://developer.apple.com/library/content/featuredarticles/ViewControllerPGforiPhoneOS/CustomizingtheTransitionAnimations.html#//apple_ref/doc/uid/TP40007457-CH16-SW1)ã€‚

##### Presenting Versus Showing a View Controllerï¼ˆç›´æ¥æ˜¾ç¤º vs å±•ç¤ºï¼‰


[UIViewController](https://developer.apple.com/documentation/uikit/uiviewcontroller)æä¾›ä¸¤ç±»æ–¹æ³•æ˜¾ç¤ºæ§åˆ¶å™¨ï¼š

- [showViewController:sender:](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621377-show)å’Œ[showDetailViewController:sender:](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621432-showdetailviewcontroller)ä»¥æ§åˆ¶å™¨ä¹‹é—´çš„å…³ç³»ä¸ºå‡†ï¼šå®¹å™¨æ§åˆ¶å™¨æœ‰è‡ªèº«çš„æ˜¾ç¤ºé€»è¾‘ï¼Œéå®¹å™¨æ§åˆ¶å™¨é»˜è®¤ç›´æ¥æ˜¾ç¤ºã€‚
- [presentViewController:animated:completion:](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621380-presentviewcontroller)ç›´æ¥æ˜¾ç¤ºã€‚æœ‰æ—¶ï¼Œè¯·æ±‚ä¼šè¢«è½¬å‘ã€‚ç´§å‡‘å®½åº¦ä¸‹å‘ˆç°å½¢å¼ä¼šå¾—åˆ°è‡ªåŠ¨ä¿®æ­£ã€‚


å°½é‡ä½¿ç”¨æ–¹æ³•`showViewController:sender:`å’Œ`showDetailViewController:sender:`ã€‚å…¶å¥½å¤„åœ¨äºæ— éœ€äº†è§£æ§åˆ¶å™¨ç»“æ„åŠå½“å‰æ§åˆ¶å™¨æ‰€å¤„çš„ä½ç½®ï¼Œè¿˜æœ‰åˆ©äºæå‡ä»£ç å¤ç”¨æ€§ã€‚

#### Presenting a View Controllerï¼ˆç›´æ¥æ˜¾ç¤ºï¼‰

æœ‰ä¸‰ç§æ–¹å¼ï¼š

- Storyboard Segueã€‚åªéœ€åœ¨IBä¸­è¿›è¡Œé…ç½®ï¼ŒSegueä¼šè‡ªåŠ¨åˆ›å»ºå¹¶ç›´æ¥æ˜¾ç¤ºæ§åˆ¶å™¨ã€‚æ›´å¤šä¿¡æ¯ï¼Œè¯¦è§[Using Segues](https://developer.apple.com/library/content/featuredarticles/ViewControllerPGforiPhoneOS/UsingSegues.html#//apple_ref/doc/uid/TP40007457-CH15-SW1)ï¼›
- æ–¹æ³•[showViewController:sender:](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621377-show)å’Œ[showDetailViewController:sender:](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621432-showdetailviewcontroller)ã€‚é™¤äº†ç›´æ¥å‘ˆç°ï¼Œè¿™äº›æ–¹æ³•è¿˜å¯ä»¥å®ç°å…¶ä»–æ˜¾ç¤ºé€»è¾‘ï¼›
- æ–¹æ³•[presentViewController:animated:completion:](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621380-presentviewcontroller)ã€‚ç›´æ¥æ˜¾ç¤ºã€‚

å…³äºå¦‚ä½•å–æ¶ˆç›´æ¥æ˜¾ç¤ºçš„æ§åˆ¶å™¨ï¼Œè¯¦è§[Dismissing a Presented View Controller](https://developer.apple.com/library/content/featuredarticles/ViewControllerPGforiPhoneOS/PresentingaViewController.html#//apple_ref/doc/uid/TP40007457-CH14-SW10)ã€‚


#### Showing View Controllersï¼ˆå±•ç¤ºï¼‰

ä½¿ç”¨[showViewController:sender:](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621377-show)ä»¥åŠ[showDetailViewController:sender:](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621432-showdetailviewcontroller)å±•ç¤ºæ§åˆ¶å™¨çš„æµç¨‹å¦‚ä¸‹ï¼š

1. [åˆ›å»º](https://developer.apple.com/library/content/documentation/General/Conceptual/DevPedia-CocoaCore/ObjectCreation.html#//apple_ref/doc/uid/TP40008195-CH39)æ§åˆ¶å™¨ï¼Œå¡«å……æ•°æ®ï¼›
2. è®¾ç½®æ§åˆ¶å™¨å±æ€§[modalPresentationStyle](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621355-modalpresentationstyle)ï¼ŒæŒ‡å®šå‘ˆç°å½¢å¼ã€‚æ³¨æ„ï¼Œè¿™ä¸ªå€¼å¯èƒ½è¢«ä¿®æ”¹ï¼›
3. è®¾ç½®æ§åˆ¶å™¨å±æ€§[modalTransitionStyle](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621388-modaltransitionstyle)ï¼ŒæŒ‡å®šè½¬åœºæ•ˆæœã€‚æ³¨æ„ï¼Œè¿™ä¸ªå€¼å¯èƒ½è¢«ä¿®æ”¹ã€‚
4. è°ƒç”¨æ§åˆ¶å™¨æ–¹æ³•[showViewController:sender:](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621377-show)æˆ–[showDetailViewController:sender:](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621432-showdetailviewcontroller)ã€‚


UIKitä¼šåœ¨æ§åˆ¶å™¨ç»“æ„ä¸­å¯»æ‰¾åˆé€‚çš„å¯¹è±¡ï¼ˆå®¹å™¨æ§åˆ¶å™¨ï¼‰å“åº”ä¸Šè¿°æ–¹æ³•ï¼Œç»“åˆè‡ªèº«é€»è¾‘å¤„ç†æ˜¾ç¤ºï¼Œä¿®æ”¹å‘ˆç°å½¢å¼æˆ–è½¬åœºæ•ˆæœã€‚ä¾‹å¦‚ï¼Œå¯¼èˆªæ§åˆ¶å™¨ï¼ˆUINavigationControllerï¼‰ä¸ç›´æ¥å‘ˆç°ç›®æ ‡ï¼Œè€Œæ˜¯ä½¿å…¶å…¥æ ˆã€‚

æ›´å¤šç›´æ¥æ˜¾ç¤ºå’Œå±•ç¤ºçš„åŒºåˆ«ï¼Œè¯¦è§[Presenting Versus Showing a View Controller](https://developer.apple.com/library/content/featuredarticles/ViewControllerPGforiPhoneOS/PresentingaViewController.html#//apple_ref/doc/uid/TP40007457-CH14-SW4)ã€‚

#### Presenting View Controllers Modallyï¼ˆç›´æ¥æ˜¾ç¤ºï¼‰

ç›´æ¥æ˜¾ç¤ºæ—¶ï¼Œéœ€æŒ‡æ˜å‘ˆç°å½¢å¼å’Œè½¬åœºæ•ˆæœã€‚

1. [åˆ›å»º](https://developer.apple.com/library/content/documentation/General/Conceptual/DevPedia-CocoaCore/ObjectCreation.html#//apple_ref/doc/uid/TP40008195-CH39)æ§åˆ¶å™¨ï¼Œå¡«å……æ•°æ®ï¼›
2. è®¾ç½®æ§åˆ¶å™¨å±æ€§[modalPresentationStyle](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621355-modalpresentationstyle)ï¼ŒæŒ‡å®šå‘ˆç°å½¢å¼ã€‚æ³¨æ„ï¼Œè¿™ä¸ªå€¼å¯èƒ½è¢«ä¿®æ”¹ï¼›
3. è®¾ç½®æ§åˆ¶å™¨å±æ€§[modalTransitionStyle](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621388-modaltransitionstyle)ï¼ŒæŒ‡å®šè½¬åœºæ•ˆæœã€‚æ³¨æ„ï¼Œè¿™ä¸ªå€¼å¯èƒ½è¢«ä¿®æ”¹ã€‚
4. è°ƒç”¨æ§åˆ¶å™¨æ–¹æ³•[presentViewController:animated:completion:](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621380-presentviewcontroller)ã€‚

è¢«è°ƒç”¨è€…ï¼ˆcalleeï¼‰ä¸ä¸€å®šå°±æ˜¯æœ€ç»ˆçš„å‘ˆç°æ–¹ï¼ˆpresenting view controllerï¼‰ã€‚å‘ˆç°å½¢å¼ä¸ä»…å†³å®šè¢«å‘ˆç°æ–¹ï¼ˆpresented view controllerï¼‰çš„æ˜¾ç¤ºæ ·å¼ï¼Œè¿˜å¯¹å‘ˆç°æ–¹æœ‰è¦æ±‚ï¼šä¾‹å¦‚ï¼Œåªæœ‰å…¨å±æ§åˆ¶å™¨æ‰èƒ½å‘èµ·å…¨å±å‘ˆç°ã€‚UIKitä¼šåœ¨æ§åˆ¶å™¨ç»“æ„ä¸­å¯»æ‰¾åˆé€‚çš„å‘ˆç°æ–¹ã€‚æ˜¾ç¤ºåï¼Œæ§åˆ¶å™¨å±æ€§[presentingViewController](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621430-presentingviewcontroller)å’Œ[presentedViewController](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621407-presentedviewcontroller)éšä¹‹æ›´æ–°ã€‚


ä»£ç 8-1ç›´æ¥æ˜¾ç¤ºä¸€ä¸ªæ§åˆ¶å™¨ï¼šæ·»åŠ æ–°èœè°±æ—¶ï¼Œæ˜¾ç¤ºå¯¼èˆªæ§åˆ¶å™¨ï¼Œæé†’ç”¨æˆ·è¡¥å……ä¿¡æ¯ã€‚å¯¼èˆªæ å¯ä»¥ä¸ºå–æ¶ˆå’Œå®ŒæˆæŒ‰é’®æä¾›ä½ç½®ï¼›æ–°é¡µé¢åªéœ€åŠ å…¥å¯¼èˆªæ§åˆ¶å™¨å³å¯ï¼Œæ–¹ä¾¿æ‰©å±•ã€‚

**ä»£ç 8-1** ç›´æ¥æ˜¾ç¤ºä¸€ä¸ªæ§åˆ¶å™¨

```
- (void)add:(id)sender {
   // Create the root view controller for the navigation controller
   // The new view controller configures a Cancel and Done button for the
   // navigation bar.
   RecipeAddViewController *addController = [[RecipeAddViewController alloc] init];
 
   addController.modalPresentationStyle = UIModalPresentationFullScreen;
   addController.transitionStyle = UIModalTransitionStyleCoverVertical;
   [self presentViewController:addController animated:YES completion: nil];
}

```

#### Presenting a View Controller in a Popoverï¼ˆå¼¹çª—æ˜¾ç¤ºï¼‰

å¼¹çª—éœ€è¦è¿›è¡Œé…ç½®ã€‚é™¤äº†å°†å‘ˆç°å½¢å¼è®¾ç½®ä¸º[UIModalPresentationPopover](https://developer.apple.com/documentation/uikit/uimodalpresentationstyle/1621382-popover)ï¼Œè¿˜éœ€é…ç½®å±æ€§ï¼š

- å°†æ§åˆ¶å™¨å±æ€§[preferredContentSize](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621476-preferredcontentsize)è°ƒæ•´ä¸ºåˆé€‚å¤§å°ï¼›
- é€šè¿‡æ§åˆ¶å™¨å±æ€§[popoverPresentationController](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621428-popoverpresentationcontroller)è·å–[UIPopoverPresentationController](https://developer.apple.com/documentation/uikit/uipopoverpresentationcontroller)å¯¹è±¡ï¼Œè®¾ç½®é”šç‚¹ã€‚ä»¥ä¸‹ä¸¤ç§æ–¹å¼å–å…¶ä¸€å³å¯ï¼š

	- å±æ€§[barButtonItem](https://developer.apple.com/documentation/uikit/uipopoverpresentationcontroller/1622314-barbuttonitem)è¡¨ç¤ºä»¥bar button itemä¸ºé”šç‚¹ï¼›
	- å±æ€§[sourceView](https://developer.apple.com/documentation/uikit/uipopoverpresentationcontroller/1622313-sourceview)å’Œ[sourceRect](https://developer.apple.com/documentation/uikit/uipopoverpresentationcontroller/1622324-sourcerect)è¡¨ç¤ºä»¥æŸä¸ªè§†å›¾çš„æŸå—åŒºåŸŸä¸ºé”šç‚¹ã€‚

é™¤æ­¤ä¹‹å¤–ï¼Œ[UIPopoverPresentationController](https://developer.apple.com/documentation/uikit/uipopoverpresentationcontroller)å¯¹è±¡æ”¯æŒå¤šç§å¼¹çª—å¤–è§‚é…ç½®ã€‚å…¶è¿˜æ”¯æŒä»£ç†ï¼Œå“åº”æ•´ä¸ªæ˜¾ç¤ºè¿‡ç¨‹ã€‚å¦‚å¼¹çª—å‡ºç°ï¼Œæ¶ˆå¤±ï¼Œä½ç½®è°ƒæ•´ç­‰ã€‚æ›´å¤šä¿¡æ¯ï¼Œè¯¦è§[UIPopoverPresentationController Class Reference](https://developer.apple.com/documentation/uikit/uipopoverpresentationcontroller)ã€‚

#### Dismissing a Presented View Controllerï¼ˆå–æ¶ˆæ˜¾ç¤ºï¼‰

æ–¹æ³•[dismissViewControllerAnimated:completion:](https://developer.apple.com/documentation/uikit/uiviewcontroller/1621505-dismissviewcontrolleranimated)å¯ä»¥å–æ¶ˆæ˜¾ç¤ºã€‚å‘ˆç°æ–¹è´Ÿè´£å–æ¶ˆï¼Œä½†å¦‚æœé’ˆå¯¹è¢«å‘ˆç°æ–¹è°ƒç”¨ï¼Œåˆ™è‡ªåŠ¨è½¬å‘ç»™å‰è€…ã€‚

è®°å·

å–æ¶ˆå‘ˆç°ä¹‹å‰ï¼Œæ³¨æ„ä¿å­˜éœ€è¦é‡è¦ä¿¡æ¯ã€‚å–æ¶ˆåï¼Œæ§åˆ¶å™¨ä¼šä»æ§åˆ¶å™¨ç»“æ„ä¸­ç§»é™¤ï¼Œå…¶è§†å›¾ä¹Ÿä¼šä»ç•Œé¢ä¸Šç§»é™¤ã€‚å¦‚æœæ²¡æœ‰å¼ºå¼•ç”¨æ§åˆ¶å™¨ï¼Œåˆ™å…¶å†…å­˜ä¼šè¢«é‡Šæ”¾ã€‚

å¦‚æœè¢«å‘ˆç°æ§åˆ¶å™¨å¿…é¡»å›ä¼ æ•°æ®ï¼Œåˆ™å»ºè®®ä½¿ç”¨[delegation](https://developer.apple.com/library/content/documentation/General/Conceptual/DevPedia-CocoaCore/Delegation.html#//apple_ref/doc/uid/TP40008195-CH14)æœºåˆ¶å®ç°ã€‚ä»£ç†æœ‰åˆ©äºæ§åˆ¶å™¨çš„å¤ç”¨ã€‚ä»£ç†æ¨¡å¼ä¸‹ï¼Œè¢«å‘ˆç°æ§åˆ¶å™¨å¼±å¼•ç”¨å‘ˆç°æ§åˆ¶å™¨ï¼Œåè€…å®ç°[protocol](https://developer.apple.com/library/content/documentation/General/Conceptual/DevPedia-CocoaCore/Protocol.html#//apple_ref/doc/uid/TP40008195-CH45)ä¸­çš„APIã€‚éœ€è¦å›ä¼ æ•°æ®æ—¶ï¼Œè¢«å‘ˆç°æ§åˆ¶å™¨è°ƒç”¨ä»£ç†æ–¹æ³•ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå‘ˆç°æ–¹æ‰®æ¼”è¢«å‘ˆç°æ–¹çš„ä»£ç†ã€‚

#### Presenting a View Controller Defined in a Different Storyboardï¼ˆå‘ˆç°å…¶ä»–SBä¸­çš„æ§åˆ¶å™¨ï¼‰

æ§åˆ¶å™¨ä¹‹é—´å¯ä»¥ä½¿ç”¨segueï¼Œä½†ä¸èƒ½è·¨SBã€‚æ­¤æ—¶ï¼Œå¿…é¡»åœ¨å‘ˆç°ç‰¹å®šæ§åˆ¶å™¨ä¹‹é—´åˆ›å»ºå®ƒï¼Œå¦‚ä»£ç 8-2æ‰€ç¤ºã€‚åœ¨ä¾‹å­ä¸­ï¼Œæ–°åˆ›å»ºçš„æ§åˆ¶å™¨è¢«ç„¦ç‚¹å‘ˆç°ï¼Œä½†ä¹Ÿå¯ä»¥å°†å…¶æ”¾å…¥å¯¼èˆªæ§åˆ¶å™¨æˆ–ç”¨å…¶ä»–æ–¹å¼å±•ç¤ºã€‚

**ä»£ç  8-2** ä»SBä¸­åˆ›å»ºæ§åˆ¶å™¨

```
UIStoryboard* sb = [UIStoryboard storyboardWithName:@"SecondStoryboard" bundle:nil];
MyViewController* myVC = [sb instantiateViewControllerWithIdentifier:@"MyViewController"];
 
// Configure the view controller.
 
// Display the view controller
[self presentViewController:myVC animated:YES completion:nil];
```

ä¸€ä¸ªAppå¯ä»¥åŒ…å«ä»»æ„æ•°é‡çš„SBã€‚ä¸‹è¿°æƒ…å†µæè¿°äº†ä¸€äº›å¸¸è§çš„å¤šSBåœºæ™¯ï¼š

- é¡¹ç›®å›¢é˜Ÿäººæ•°ä¼—å¤šï¼Œä¸åŒçš„ç”¨æˆ·ç•Œé¢ç”±ä¸åŒçš„å›¢é˜Ÿè´Ÿè´£ã€‚å› æ­¤ï¼Œå¤šä¸ªSBæœ‰åˆ©äºå‡å°‘å†²çªã€‚
- ä½¿ç”¨çš„åº“é¢„å…ˆå®šä¹‰äº†ä¸€ç»„æ§åˆ¶å™¨ç±»å‹ï¼›è¿™ç»„ç±»å‹ä¸“é—¨ä½¿ç”¨ä¸€ä¸ªSBã€‚
- éœ€è¦åœ¨å¤–æ¥æ˜¾ç¤ºå™¨ä¸­å±•ç¤ºå†…å®¹ã€‚æ­¤æ—¶ï¼Œå¯èƒ½éœ€è¦å°†æ˜¾ç¤ºå†…å®¹åŒºåˆ†ï¼Œæ”¾å…¥å¦ä¸€ä¸ªSBä¸­å»åšã€‚å½“ç„¶ï¼Œæ­¤æ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰segueã€‚

